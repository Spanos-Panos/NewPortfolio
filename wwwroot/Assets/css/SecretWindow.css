body.secret-modal-open {
  overflow: hidden !important;
  position: fixed !important;
  width: 100vw;
  overscroll-behavior: none !important;
}
/* --- Remade Game Library Section --- */
.retro-game-list {
  width: 100%;
  margin-top: 1em;
  margin-left: auto;
  margin-right: auto;
  background: #19151aee;
  border-radius: 14px;
  border: 2px solid #ff3b3b;
  box-shadow: 0 2px 16px #0007;
  padding: 0.7em 0.7em 0.7em 0.7em;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  position: relative;
  backdrop-filter: blur(2px);
  -webkit-backdrop-filter: blur(2px);
  overflow: visible;
  max-width: 98vw;
  min-width: 1400px;
}
.retro-list-label {
  font-family: inherit;
  color: #ff3b3b; font-size: 1.25em; font-weight: 900; margin-bottom: 1.1em; letter-spacing: 2px;
  text-shadow: 0 1px 0 #000, 0 2px 8px #0008;
  width: 100%;
  text-align: center;
  padding: 0.2em 0 0.7em 0;
  display: block;
  text-transform: uppercase;
}
.retro-game-grid {
  width: 100%;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: repeat(2, 1fr);
  gap: 0.7em 0.7em;
  justify-items: stretch;
  align-items: stretch;
  margin-bottom: 0.7em;
  min-height: 0;
  max-height: none;
}
.retro-game-item.selected {
  background: #1ecb4b; color: #fff; transform: scale(1.04);
  border-color: #fff;
  box-shadow: 0 4px 24px #1ecb4b66;
  z-index: 2;
}
.retro-game-item:hover:not(.selected) {
  background: #ff3b3b; color: #fff; transform: scale(1.04);
  border-color: #fff;
  box-shadow: 0 4px 24px #ff3b3b66;
  z-index: 2;
}
.retro-controls {
  width: 100%;
  display: flex;
  justify-content: center;
        gap: 0.7em;
        margin: 0;
  position: static;
  z-index: 2;
  animation: fadeInBtns 0.8s cubic-bezier(.4,1.6,.6,1) 1;
  align-items: center;
}
.retro-emoji-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 1.6em;
  height: 1.6em;
  border-radius: 50%;
  font-size: 1.5em;
  font-family: 'Segoe UI Emoji', 'Apple Color Emoji', 'Noto Color Emoji', sans-serif;
  margin-right: 0.5em;
  box-shadow: 0 2px 8px #0003;
  border: 2px solid #ff0000;
  color: #ff0000;
  background: #5e5e5e;
  transition: background 0.2s, transform 0.12s;
}
/* Retro Secret Window Theme */
/* Blurry, modern overlay background */
/* Lock background scroll when modal is open */
.secret-retro-bg {
  position: fixed; inset: 0; z-index: 1000;
  background: rgba(18, 14, 10, 0.92);
  backdrop-filter: blur(22px) saturate(1.2);
  -webkit-backdrop-filter: blur(22px) saturate(1.2);
  display: flex; align-items: center; justify-content: center;
  animation: fadeInBg 0.5s cubic-bezier(.4,1.6,.6,1) 1;
  overscroll-behavior: contain;
  touch-action: none;
  pointer-events: auto;
}

@keyframes fadeInBg {
  from { opacity: 0; }
  to { opacity: 1; }
}
.secret-retro-window {
  border: 2.5px solid #3a3a3a;
  border-radius: 22px;
  background: linear-gradient(135deg, #18120a 80%, #23201a 100%) padding-box, linear-gradient(120deg, #6cf2 0%, #23201a 100%) border-box;
  box-shadow: 0 16px 64px #000b, 0 0 0 8px #6cf2, 0 0 0 2px #3a3a3a;
  min-width: 340px;
  max-width: 98vw;
  width: 98vw;
  max-height: 98vh;
  height: 97vh;
  display: flex; flex-direction: column; align-items: stretch;
  padding: 0 0 1.7em 0;
  position: relative;
  margin: 0.5vw;
  animation: popInWindow 0.55s cubic-bezier(.4,1.6,.6,1) 1;
  overflow: hidden;
  font-family: 'Consolas', 'Fira Mono', 'Menlo', monospace;
  backdrop-filter: blur(8px) saturate(1.1);
  -webkit-backdrop-filter: blur(8px) saturate(1.1);
}

@keyframes popInWindow {
  0% { opacity: 0; transform: scale(0.92) translateY(40px); }
  80% { opacity: 1; transform: scale(1.03) translateY(-8px); }
  100% { opacity: 1; transform: scale(1) translateY(0); }
}
.retro-header {
  width: 100%; display: flex; align-items: center; justify-content: space-between;
  background: linear-gradient(90deg, #2d2116 0%, #18120a 100%);
  border-bottom: 1.5px solid #3a3a3a;
  border-radius: 16px 16px 0 0;
  padding: 0.18em 0.7em 0.18em 0.7em;
  font-family: inherit;
  font-size: 0.95em; font-weight: 700; color: #e2cba5;
  letter-spacing: 1.1px;
  box-shadow: 0 1px 6px #0003;
  text-shadow: 0 1px 0 #000, 0 2px 8px #0008;
  user-select: none;
}
.retro-title {
  flex: 1; text-align: center; font-size: 0.92em; color: #e2cba5; letter-spacing: 1.1px;
  text-shadow: 0 1px 0 #000, 0 2px 8px #0008;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.retro-list-label {
  font-family: inherit;
  color: #ff3b3b; font-size: 1.08em; font-weight: 800; margin-bottom: 0.3em; letter-spacing: 1.2px;
  text-shadow: 0 1px 0 #000, 0 2px 8px #0008;
  width: 100%;
  text-align: center;
  padding: 0.2em 0 0.4em 0;
}
.retro-close-btn {
  background: #3a3a3a; color: #ff3b3b; border: none; border-radius: 8px;
  font-size: 1.08em; font-weight: bold; width: 1.8em; height: 1.8em;
  cursor: pointer; box-shadow: 0 2px 8px #0006;
  transition: background 0.18s, color 0.18s, transform 0.12s;
  outline: none;
  border: 2px solid #ff3b3b;
}
.retro-close-btn:hover, .retro-close-btn:focus {
  background: #ff3b3b; color: #fff; transform: scale(1.09) rotate(-6deg);
  border-color: #fff;
}
.retro-main-screen {
  width: 100%;
  max-width: 98vw;
  min-height: 320px;
  background: linear-gradient(135deg, #18120a 80%, #23201a 100%);
  border: 2px solid #3a3a3a;
  border-radius: 14px;
  margin: 1.1em auto 0.7em auto; display: flex; flex-direction: column; align-items: stretch; justify-content: flex-start;
  position: relative;
  box-shadow: 0 2px 18px #0008, 0 0 0 1.5px #6cf;
  animation: fadeInScreen 0.7s cubic-bezier(.4,1.6,.6,1) 1;
  overflow: visible;
  background: linear-gradient(120deg, #23201a 60%, #18120a 100%);
}

@keyframes fadeInScreen {
  from { opacity: 0; transform: scale(0.97) translateY(30px); }
  to { opacity: 1; transform: scale(1) translateY(0); }
}
.retro-game-iframe {
  width: 100%; height: 360px; border: none; border-radius: 10px; background: #18120a;
  box-shadow: 0 2px 16px #0007, 0 0 0 1.5px #6cf2;
  transition: box-shadow 0.2s, border 0.2s;
}
.retro-screen-placeholder {
  width: 100%; height: 180px; display: flex; align-items: center; justify-content: center;
  color: #00f6ff; font-size: 1.3em; font-family: 'Press Start 2P', 'Consolas', monospace;
  letter-spacing: 2px;
  position: relative;
}
.retro-screen-label {
  opacity: 0.7;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  text-align: center;
  font-size: 1.2em;
  color: #00f6ff;
  pointer-events: none;
}
.retro-controls {
  width: 100%; display: flex; justify-content: center; gap: 0.7em; margin: 1.1em 0 0 0;
  position: static;
  z-index: 2;
  animation: fadeInBtns 0.8s cubic-bezier(.4,1.6,.6,1) 1;
}

@keyframes fadeInBtns {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}
.retro-btn {
  font-family: inherit;
  font-size: 1em; font-weight: 700; border: none; border-radius: 8px;
  padding: 0.6em 1.3em; cursor: pointer; box-shadow: 0 2px 8px #0005;
  transition: background 0.18s, color 0.18s, transform 0.12s, box-shadow 0.18s, border 0.18s;
  outline: none;
  background: #2d2116cc;
  color: #e2cba5;
  border: 2px solid #3a3a3a;
  text-shadow: 0 1px 0 #000, 0 2px 8px #0008;
        min-width: 0;
        flex: 1 1 0%;
        max-width: 33%;
  backdrop-filter: blur(2px);
}
.retro-exit { background: #3a3a3aee; color: #e2cba5; border-color: #6cf; }
.retro-exit:hover, .retro-exit:focus { background: #6cf; color: #18120a; box-shadow: 0 2px 12px #6cf6; border-color: #e2cba5; }
.retro-play { background: #2d2116cc; color: #e2cba5; border-color: #6cf; }
.retro-play:disabled { background: #3a3a3a99; color: #bfa; cursor: not-allowed; }
.retro-play:hover:enabled, .retro-play:focus:enabled { background: #6cf; color: #18120a; box-shadow: 0 2px 12px #6cf6; border-color: #e2cba5; }
.retro-retry { background: #2d2116cc; color: #e2cba5; border-color: #6cf; }
.retro-retry:disabled { background: #3a3a3a99; color: #e0f4ff; cursor: not-allowed; }
.retro-retry:hover:enabled, .retro-retry:focus:enabled { background: #6cf; color: #18120a; box-shadow: 0 2px 12px #6cf6; border-color: #e2cba5; }
/* --- Remade Game Library Section --- */
.retro-game-item {
  display: flex; flex-direction: row; align-items: center; justify-content: flex-start; gap: 0.5em; padding: 0.35em 0.7em; border-radius: 9px;
  cursor: pointer; font-size: 0.98em; font-family: inherit; color: #e2cba5;
  transition: background 0.18s, color 0.18s, transform 0.12s, box-shadow 0.18s, border 0.18s;
  background: #23201aee;
  border: 2px solid #3a3a3a;
  box-shadow: 0 2px 8px #0003;
  min-height: 2.2em; min-width: 120px;
  position: relative;
  animation: fadeInGameItem 0.7s cubic-bezier(.4,1.6,.6,1) 1;
  backdrop-filter: blur(1.5px);
  margin-bottom: 0;
}
.retro-game-item.selected {
  background: #1ecb4b;
  color: #fff;
  transform: scale(1.04);
  border-color: #fff;
  box-shadow: 0 4px 24px #1ecb4b66;
  z-index: 2;
}
.retro-game-item:hover:not(.selected) {
  background: #ff3b3b;
  color: #fff;
  transform: scale(1.04);
  border-color: #fff;
  box-shadow: 0 4px 24px #ff3b3b66;
  z-index: 2;
}
.retro-game-icon {
  width: 1.7em; height: 1.7em; border-radius: 50%; background: #18120a; border: 2px solid #ff3b3b;
  object-fit: contain; box-shadow: 0 2px 8px #0003;
  margin-bottom: 0;
  display: flex; align-items: center; justify-content: center;
  font-size: 1.08em;
  transition: border 0.18s, box-shadow 0.18s;
}
.retro-game-title {
  font-family: inherit; font-size: 0.98em; font-weight: 700; letter-spacing: 1.1px;
  text-align: left;
  color: #e2cba5;
  text-shadow: 0 1px 0 #000, 0 2px 8px #0008;
  margin-top: 0;
}
@media (max-width: 1500px) {
  .secret-retro-window {
    width: 98vw;
    min-width: 0;
    max-width: 98vw;
    margin: 1vw;
    max-height: calc(98vh - 2vw);
  }
}
@media (max-width: 1100px) {
  .secret-retro-window {
    width: 99vw;
    min-width: 0;
    max-width: 99vw;
    margin: 0.5vw;
    max-height: calc(98vh - 1vw);
    height: 98vh;
    padding: 0 0 0.7em 0;
  }
  .retro-main-screen, .retro-game-iframe { height: 260px; }
  .retro-game-list { grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1em 1.2em; }
  .retro-btn { font-size: 1em; padding: 0.7em 1.5em; }
  .retro-header { font-size: 1.1em; padding: 0.9em 1.2em; }
}
@media (max-width: 700px) {
  .secret-retro-window {
    width: 99vw;
    min-width: 0;
    max-width: 99vw;
    margin: 0.5vw;
    max-height: calc(98vh - 1vw);
    height: 98vh;
    padding: 0 0 0.7em 0;
  }
  .retro-main-screen, .retro-game-iframe { height: 160px; }
  .retro-game-list { grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 0.7em 0.7em; }
  .retro-btn { font-size: 0.9em; padding: 0.5em 1.1em; }
  .retro-header { font-size: 0.95em; padding: 0.5em 0.7em; }
}
/* SecretWindow.css: Modern, glassy, responsive secret game window */
.secret-modal-bg {
  position: fixed; inset: 0; z-index: 1000;
  background: rgba(20,24,32,0.82);
  display: flex; align-items: center; justify-content: center;
  backdrop-filter: blur(10px) saturate(1.2);
}
.secret-modal {
  background: rgba(36,44,60,0.92);
  color: #fff;
  border-radius: 38px;
  box-shadow: 0 16px 64px 0 #000b, 0 0 0 8px #6cf6;
  max-width: 99vw; width: 420px; max-height: 98vh;
  padding: 2.2rem 1.2rem 1.2rem 1.2rem;
  display: flex; flex-direction: column; align-items: center; gap: 1.2rem;
  border: 4px solid #6cf;
  border-top-width: 12px;
  overflow: hidden;
  backdrop-filter: blur(22px) saturate(1.3);
  transition: box-shadow 0.3s, background 0.3s;
}
.emulator-label {
  font-size: 1.1em; font-weight: 700; letter-spacing: 1.2px;
  color: #6cf; margin-bottom: 0.2em;
}
.emulator-screen {
  width: 100%; min-height: 220px; display: flex; flex-direction: column; align-items: center; justify-content: center;
}
.game-library {
  display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
  width: 100%; max-height: 340px; overflow-y: auto; gap: 0.7em;
  background: rgba(36,44,60,0.72); border-radius: 18px; box-shadow: 0 2px 16px #0004;
  padding: 1.2em 0.5em 0.7em 0.5em;
  border: 2px solid #6cf3;
  margin-bottom: 0.7em;
}
.library-label {
  font-size: 1.05em; font-weight: 600; color: #6cf; margin-bottom: 0.5em;
}
.game-btn {
  width: 100%; max-width: 420px; min-width: 180px; padding: 1.1em 0; border-radius: 16px;
  background: linear-gradient(120deg,#23272e 80%,#23272e 100%);
  color: #fff; font-size: 1.18em; border: 2.5px solid #6cf; margin-bottom: 0.3em;
  font-weight: 700; letter-spacing: 0.7px; box-shadow: 0 2px 12px #0004;
  transition: background 0.18s, color 0.18s, border 0.18s, box-shadow 0.18s, transform 0.12s;
  display: flex; align-items: center; gap: 0.9em; justify-content: center; outline: none;
  font-family: 'Arial Black', Arial, sans-serif;
}
.game-btn:hover, .game-btn:focus {
  background: #6cf; color: #23272e; border-color: #fff; box-shadow: 0 4px 24px #6cf6;
  transform: scale(1.03);
}
.game-container {
  width: 100%; height: 340px; display: flex; align-items: center; justify-content: center;
}
.game-iframe {
  width: 100%; height: 340px; border: none; border-radius: 18px; background: #181c22;
}
.modal-nav {
  display: flex; flex-direction: row; gap: 1.2em; justify-content: center; width: 100%; margin-top: 0.7em;
}
.modal-nav-btn {
  background: #23272e; color: #6cf; border: 2px solid #6cf; border-radius: 12px; padding: 0.7em 1.5em;
  font-size: 1em; font-weight: 700; letter-spacing: 0.7px; box-shadow: 0 2px 8px #0003;
  transition: background 0.18s, color 0.18s, border 0.18s, box-shadow 0.18s, transform 0.12s;
}
.modal-nav-btn:hover, .modal-nav-btn:focus {
  background: #6cf; color: #23272e; border-color: #fff; box-shadow: 0 4px 16px #6cf6;
  transform: scale(1.06);
}
@media (max-width: 600px) {
  .secret-modal { width: 99vw; min-width: 0; padding: 1.2rem 0.2rem 0.7rem 0.2rem; }
  .game-btn, .game-iframe, .game-container { max-width: 99vw; min-width: 0; }
  .game-container, .game-iframe { height: 220px; }
}
